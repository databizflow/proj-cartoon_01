@echo off
REM ===============================================
REM ì‹œì‚¬ë§Œí‰ í¬ë¡¤ëŸ¬ - Windows ìë™ ì‹¤í–‰ ë°°ì¹˜ íŒŒì¼
REM ===============================================

REM 1. ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì • (install.bat)
echo @echo off > install.bat
echo echo ======================================== >> install.bat
echo echo ğŸ“° ì‹œì‚¬ë§Œí‰ í¬ë¡¤ëŸ¬ í™˜ê²½ ì„¤ì • >> install.bat
echo echo ======================================== >> install.bat
echo. >> install.bat
echo echo 1. Python ë²„ì „ í™•ì¸... >> install.bat
echo python --version >> install.bat
echo if errorlevel 1 ( >> install.bat
echo     echo âŒ Pythonì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. >> install.bat
echo     echo Python 3.8 ì´ìƒì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”. >> install.bat
echo     pause >> install.bat
echo     exit /b 1 >> install.bat
echo ^) >> install.bat
echo. >> install.bat
echo echo 2. ê°€ìƒí™˜ê²½ ìƒì„±... >> install.bat
echo python -m venv venv >> install.bat
echo if errorlevel 1 ( >> install.bat
echo     echo âŒ ê°€ìƒí™˜ê²½ ìƒì„± ì‹¤íŒ¨ >> install.bat
echo     pause >> install.bat
echo     exit /b 1 >> install.bat
echo ^) >> install.bat
echo. >> install.bat
echo echo 3. ê°€ìƒí™˜ê²½ í™œì„±í™”... >> install.bat
echo call venv\Scripts\activate.bat >> install.bat
echo. >> install.bat
echo echo 4. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜... >> install.bat
echo pip install -r requirements.txt >> install.bat
echo if errorlevel 1 ( >> install.bat
echo     echo âŒ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨ >> install.bat
echo     pause >> install.bat
echo     exit /b 1 >> install.bat
echo ^) >> install.bat
echo. >> install.bat
echo echo âœ… ì„¤ì¹˜ ì™„ë£Œ! >> install.bat
echo echo run.bat íŒŒì¼ì„ ì‹¤í–‰í•˜ì—¬ í”„ë¡œê·¸ë¨ì„ ì‹œì‘í•˜ì„¸ìš”. >> install.bat
echo pause >> install.bat

REM 2. í¬ë¡¤ë§ ì‹¤í–‰ (crawl.bat)
echo @echo off > crawl.bat
echo echo ======================================== >> crawl.bat
echo echo ğŸ“° ì‹œì‚¬ë§Œí‰ í¬ë¡¤ë§ ì‹œì‘ >> crawl.bat
echo echo ======================================== >> crawl.bat
echo. >> crawl.bat
echo call venv\Scripts\activate.bat >> crawl.bat
echo python cartoon_crawler.py >> crawl.bat
echo pause >> crawl.bat

REM 3. ëŒ€ì‹œë³´ë“œ ì‹¤í–‰ (dashboard.bat)
echo @echo off > dashboard.bat
echo echo ======================================== >> dashboard.bat
echo echo ğŸ›ï¸ ëŒ€ì‹œë³´ë“œ ì‹œì‘ >> dashboard.bat
echo echo ======================================== >> dashboard.bat
echo echo ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8501 ë¡œ ì ‘ì†í•˜ì„¸ìš” >> dashboard.bat
echo echo ì¢…ë£Œí•˜ë ¤ë©´ ì´ ì°½ì„ ë‹«ì•„ì£¼ì„¸ìš” >> dashboard.bat
echo. >> dashboard.bat
echo call venv\Scripts\activate.bat >> dashboard.bat
echo streamlit run dashboard.py >> dashboard.bat

REM 4. í†µí•© ì‹¤í–‰ (run.bat)
echo @echo off > run.bat
echo echo ======================================== >> run.bat
echo echo ğŸ“° ì‹œì‚¬ë§Œí‰ í¬ë¡¤ëŸ¬ ^& ëŒ€ì‹œë³´ë“œ >> run.bat
echo echo ======================================== >> run.bat
echo. >> run.bat
echo if not exist venv ( >> run.bat
echo     echo âŒ ê°€ìƒí™˜ê²½ì´ ì—†ìŠµë‹ˆë‹¤. install.batì„ ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”. >> run.bat
echo     pause >> run.bat
echo     exit /b 1 >> run.bat
echo ^) >> run.bat
echo. >> run.bat
echo call venv\Scripts\activate.bat >> run.bat
echo python run.py >> run.bat
echo pause >> run.bat

REM 5. ì •ë¦¬ ë° ì œê±° (clean.bat)
echo @echo off > clean.bat
echo echo ======================================== >> clean.bat
echo echo ğŸ§¹ ì„ì‹œ íŒŒì¼ ì •ë¦¬ >> clean.bat
echo echo ======================================== >> clean.bat
echo. >> clean.bat
echo echo ë‹¤ìŒ í•­ëª©ë“¤ì„ ì‚­ì œí•©ë‹ˆë‹¤: >> clean.bat
echo echo - ê°€ìƒí™˜ê²½ í´ë” ^(venv^) >> clean.bat
echo echo - ë¡œê·¸ íŒŒì¼ë“¤ >> clean.bat
echo echo - ìºì‹œ íŒŒì¼ë“¤ >> clean.bat
echo. >> clean.bat
echo set /p confirm="ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N): " >> clean.bat
echo if /i not "%confirm%"=="y" ( >> clean.bat
echo     echo ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤. >> clean.bat
echo     pause >> clean.bat
echo     exit /b 0 >> clean.bat
echo ^) >> clean.bat
echo. >> clean.bat
echo if exist venv rmdir /s /q venv >> clean.bat
echo if exist *.log del *.log >> clean.bat
echo if exist __pycache__ rmdir /s /q __pycache__ >> clean.bat
echo if exist .streamlit rmdir /s /q .streamlit >> clean.bat
echo. >> clean.bat
echo echo âœ… ì •ë¦¬ ì™„ë£Œ >> clean.bat
echo pause >> clean.bat

REM 6. ì‚¬ìš©ë²• ë„ì›€ë§ (help.bat)
echo @echo off > help.bat
echo echo ======================================== >> help.bat
echo echo ğŸ“š ì‹œì‚¬ë§Œí‰ í¬ë¡¤ëŸ¬ ì‚¬ìš©ë²• >> help.bat
echo echo ======================================== >> help.bat
echo. >> help.bat
echo echo ğŸš€ ë¹ ë¥¸ ì‹œì‘: >> help.bat
echo echo   1. install.bat  - ìµœì´ˆ 1íšŒ ì‹¤í–‰ ^(í™˜ê²½ ì„¤ì •^) >> help.bat
echo echo   2. run.bat      - í”„ë¡œê·¸ë¨ ì‹¤í–‰ >> help.bat
echo. >> help.bat
echo echo ğŸ“‹ ê°œë³„ ì‹¤í–‰: >> help.bat
echo echo   - crawl.bat     - í¬ë¡¤ë§ë§Œ ì‹¤í–‰ >> help.bat
echo echo   - dashboard.bat - ëŒ€ì‹œë³´ë“œë§Œ ì‹¤í–‰ >> help.bat
echo. >> help.bat
echo echo ğŸ› ï¸ ìœ ì§€ë³´ìˆ˜: >> help.bat
echo echo   - clean.bat     - ì„ì‹œ íŒŒì¼ ì •ë¦¬ >> help.bat
echo echo   - help.bat      - ì´ ë„ì›€ë§ >> help.bat
echo. >> help.bat
echo echo ğŸ“ í´ë” êµ¬ì¡°: >> help.bat
echo echo   - data/         - ìˆ˜ì§‘ëœ ë°ì´í„° ì €ì¥ >> help.bat
echo echo   - venv/         - Python ê°€ìƒí™˜ê²½ >> help.bat
echo. >> help.bat
echo echo ğŸ”§ ë¬¸ì œ í•´ê²°: >> help.bat
echo echo   1. Python 3.8 ì´ìƒ ì„¤ì¹˜ í™•ì¸ >> help.bat
echo echo   2. ì¸í„°ë„· ì—°ê²° í™•ì¸ >> help.bat
echo echo   3. ë°©í™”ë²½/ë°±ì‹  í”„ë¡œê·¸ë¨ í™•ì¸ >> help.bat
echo. >> help.bat
echo pause >> help.bat

echo ======================================
echo ë°°ì¹˜ íŒŒì¼ ìƒì„± ì™„ë£Œ!
echo ======================================
echo.
echo ìƒì„±ëœ íŒŒì¼ë“¤:
echo - install.bat     : ìµœì´ˆ í™˜ê²½ ì„¤ì •
echo - run.bat         : í†µí•© ì‹¤í–‰
echo - crawl.bat       : í¬ë¡¤ë§ë§Œ ì‹¤í–‰  
echo - dashboard.bat   : ëŒ€ì‹œë³´ë“œë§Œ ì‹¤í–‰
echo - clean.bat       : ì •ë¦¬ ë° ì œê±°
echo - help.bat        : ì‚¬ìš©ë²• ë„ì›€ë§
echo.
echo ì‚¬ìš©ë²•:
echo 1. install.bat ì‹¤í–‰ (ìµœì´ˆ 1íšŒ)
echo 2. run.bat ì‹¤í–‰ (ì¼ë°˜ ì‚¬ìš©)
echo.
pause